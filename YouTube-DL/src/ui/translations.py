# Langue actuelle (par défaut en Français)
current_language = "Français"

#TODO : rajouter dans les autres langues "download_completed": "Téléchargement terminé.",
#TODO : batch_download_complete : rajouté le compte de vidéos téléchargées

def get_current_language():
    """Retourne la langue actuelle."""
    global current_language
    return current_language

def set_current_language(language):
    """Met à jour la langue actuelle."""
    global current_language, texts
    current_language = language
    texts = translations[language]

# Dictionnaire des traductions (Français & Anglais)
translations = {
    "Français": {
        # --- Interface utilisateur (GUI) ---
        "title": "Ultimate GUI YouTube Downloader",
        "subtitle": "Une Interface Graphique pour Pytubefix",
        "status_ready": "Statut : Prêt",
        "enter_url": "Entrez l'URL de la vidéo YouTube",
        "fetching_res_bit": "Récupérer résolutions et bitrates",
        "download_button": "Télécharger",
        "open_log": "Ouvrir Log",
        "select_file": "Sélectionner un fichier texte",
        "select_resolution": "Sélectionner une résolution",
        "batch_download": "Télécharger en batch",
        "video_resolution": "Résolution vidéo",
        "audio_bitrate": "Bitrate audio",
        "download": "Télécharger",
        "selected_file": "Fichier sélectionné",
        "select_folder": "Sélectionner un dossier de destination",
        "no_folder_selected": "Aucun dossier sélectionné.",

        # --- Messages d'exécution ---
        "fetching_resolutions": "Récupération des résolutions et bitrates...",
        "fetching_completed": "Récupération des résolutions et bitrates terminée.",
        "downloading_video": "Téléchargement de la vidéo en cours...",
        "video_downloaded": "Vidéo téléchargée avec succès : {title}.mp4",
        "video_downloaded_log": "Vidéo téléchargée : {filename}.mp4",
        "downloading_audio": "Téléchargement de l'audio en cours...",
        "audio_downloaded": "Audio téléchargé avec succès : {title}.mp3",
        "audio_downloaded_log": "Audio téléchargé : {filename}.mp3",
        "downloading_video_audio": "Téléchargement en cours de {title}",
        "downloading_video_audio_log": "Téléchargement en cours de {title}",
        "download_video_audio_completed": "Téléchargement des fichiers audio et vidéo effectué",
        "download_video_audio_completed_log": "Vidéo et audio téléchargés pour fusion : {title}",
        "merging": "Fusion de l'audio et de la vidéo...",
        "merging_files": "Fusion en cours",
        "merge_successful": "Fusion réussie",
        "temp_files_removed": "Fichiers temporaires supprimés après fusion : {filename}.",
        "temp_files_removed_log": "Suppression des fichiers temporaires associés à {filename}.",
        "download_completed": "Téléchargement terminé pour {title}",
        "progress_batch_download": "Téléchargement {current}/{total} en cours...",
        "video_found": "Vidéo '{title}' disponible en {res}.",
        "video_found_log": "Vidéo trouvée : {title} en {res}.",
        "batch_download_summary": "Téléchargement de {success}/{total} vidéos terminé.",

        # --- Messages d'erreur ---
        "error": "ERREUR :",
        "error_invalid_url": "Erreur : L'URL fournie n'est pas une URL YouTube valide ({url}).",
        "error_video_unavailable": "Erreur : La vidéo associée à l'URL '{url}' est indisponible.",
        "error_no_video": "Erreur : La vidéo '{title}' n'existe pas en {res}.",
        "error_no_audio": "Erreur : Pas d'audio disponible pour '{title}' en {bitrate}.",
        "error_no_video_available": "Aucune résolution vidéo disponible pour '{title}'.",
        "error_no_audio_available": "Aucun bitrate audio disponible pour '{title}'.",
        "error_fetching_resolutions": "Erreur lors de la récupération des résolutions",
        "error_merge": "Erreur lors de la fusion avec FFmpeg",
        "error_merge_ffmpeg": "Erreur FFmpeg : {error}",
        "FFmpeg_not_found": "FFmpeg n'est pas installé ou introuvable.",
        "error_file_not_found": "Erreur : Fichier introuvable.",
        "error_invalid_folder": "Erreur : Dossier de destination invalide.",
        "error_generic": "Une erreur est survenue : {error}",
    },

    "English": {
        # --- User Interface (GUI) ---
        "title": "Ultimate GUI YouTube Downloader",
        "subtitle": "A Pytubefix GUI",
        "status_ready": "Status: Ready",
        "enter_url": "Enter the URL of the YouTube video",
        "fetching_res_bit": "Fetching resolutions and bitrates",
        "download_button": "Download",
        "open_log": "Open Log",
        "select_file": "Select a text file",
        "select_resolution": "Select a resolution",
        "batch_download": "Batch Download",
        "video_resolution": "Video Resolution",
        "audio_bitrate": "Audio Bitrate",
        "download": "Download",
        "selected_file": "Selected file",
        "select_folder": "Select a destination folder",
        "no_folder_selected": "No folder selected.",

        # --- Execution Messages ---
        "fetching_resolutions": "Fetching resolutions and bitrates...",
        "fetching_completed": "Resolution and bitrate retrieval completed.",
        "downloading_video": "Downloading video...",
        "video_downloaded": "Video successfully downloaded: {title}.mp4",
        "video_downloaded_log": "Video downloaded: {filename}.mp4",
        "downloading_audio": "Downloading audio...",
        "audio_downloaded": "Audio successfully downloaded: {title}.mp3",
        "audio_downloaded_log": "Audio downloaded: {filename}.mp3",
        "downloading_video_audio": "Downloading {title}...",
        "downloading_video_audio_log": "Downloading {title}...",
        "download_video_audio_completed": "Audio and video files downloaded successfully.",
        "download_video_audio_completed_log": "Video and audio downloaded for merging: {title}",
        "merging": "Merging audio and video...",
        "merging_files": "Merging in progress",
        "merge_successful": "Merge successful",
        "temp_files_removed": "Temporary files removed after merging: {filename}.",
        "temp_files_removed_log": "Deleted temporary files associated with {filename}.",
        "download_completed": "Download completed for {title}",
        "progress_batch_download": "Downloading {current}/{total}...",
        "video_found": "Video '{title}' available in {res}.",
        "video_found_log": "Video found: {title} in {res}.",
        "batch_download_summary": "Downloaded {success}/{total} videos successfully.",

        # --- Error Messages ---
        "error": "ERROR:",
        "error_invalid_url": "Error: The provided URL is not a valid YouTube URL ({url}).",
        "error_video_unavailable": "Error: The video associated with URL '{url}' is unavailable.",
        "error_no_video": "Error: The video '{title}' is not available in {res}.",
        "error_no_audio": "Error: No audio available for '{title}' in {bitrate}.",
        "error_no_video_available": "No video resolution available for '{title}'.",
        "error_no_audio_available": "No audio bitrate available for '{title}'.",
        "error_fetching_resolutions": "Error fetching resolutions.",
        "error_merge": "Error while merging with FFmpeg.",
        "error_merge_ffmpeg": "FFmpeg error: {error}",
        "FFmpeg_not_found": "FFmpeg is not installed or not found.",
        "error_file_not_found": "Error: File not found.",
        "error_invalid_folder": "Error: Invalid destination folder.",
        "error_generic": "An error occurred: {error}",
    },

    "Español": {
        # --- Interfaz de usuario (GUI) ---
        "title": "Ultimate GUI YouTube Downloader",
        "subtitle": "Una interfaz gráfica para Pytubefix",
        "status_ready": "Estado: Listo",
        "enter_url": "Ingrese la URL del video de YouTube",
        "fetching_res_bit": "Recuperando resoluciones y tasas de bits",
        "download_button": "Descargar",
        "open_log": "Abrir registro",
        "select_file": "Seleccionar un archivo de texto",
        "select_resolution": "Seleccionar una resolución",
        "batch_download": "Descarga en lote",
        "video_resolution": "Resolución de video",
        "audio_bitrate": "Tasa de bits de audio",
        "download": "Descargar",
        "selected_file": "Archivo seleccionado",
        "select_folder": "Seleccionar una carpeta de destino",
        "no_folder_selected": "No se ha seleccionado ninguna carpeta.",

        # --- Mensajes de ejecución ---
        "fetching_resolutions": "Recuperando resoluciones y tasas de bits...",
        "fetching_completed": "Recuperación de resoluciones y tasas de bits completada.",
        "downloading_video": "Descargando video...",
        "video_downloaded": "Video descargado con éxito: {title}.mp4",
        "video_downloaded_log": "Video descargado: {filename}.mp4",
        "downloading_audio": "Descargando audio...",
        "audio_downloaded": "Audio descargado con éxito: {title}.mp3",
        "audio_downloaded_log": "Audio descargado: {filename}.mp3",
        "downloading_video_audio": "Descargando {title}...",
        "downloading_video_audio_log": "Descargando {title}...",
        "download_video_audio_completed": "Archivos de audio y video descargados con éxito.",
        "download_video_audio_completed_log": "Video y audio descargados para fusión: {title}",
        "merging": "Fusionando audio y video...",
        "merging_files": "Fusión en curso",
        "merge_successful": "Fusión exitosa",
        "temp_files_removed": "Archivos temporales eliminados después de la fusión: {filename}.",
        "temp_files_removed_log": "Se eliminaron los archivos temporales asociados con {filename}.",
        "download_completed": "Descarga completada para {title}",
        "progress_batch_download": "Descargando {current}/{total}...",
        "video_found": "Video '{title}' disponible en {res}.",
        "video_found_log": "Video encontrado: {title} en {res}.",
        "batch_download_summary": "Descarga de {success}/{total} videos completada.",

        # --- Mensajes de error ---
        "error": "ERROR:",
        "error_invalid_url": "Error: La URL proporcionada no es una URL válida de YouTube ({url}).",
        "error_video_unavailable": "Error: El video asociado con la URL '{url}' no está disponible.",
        "error_no_video": "Error: El video '{title}' no está disponible en {res}.",
        "error_no_audio": "Error: No hay audio disponible para '{title}' en {bitrate}.",
        "error_no_video_available": "No hay resolución de video disponible para '{title}'.",
        "error_no_audio_available": "No hay tasa de bits de audio disponible para '{title}'.",
        "error_fetching_resolutions": "Error al recuperar resoluciones.",
        "error_merge": "Error al fusionar con FFmpeg.",
        "error_merge_ffmpeg": "Error de FFmpeg: {error}",
        "FFmpeg_not_found": "FFmpeg no está instalado o no se encuentra.",
        "error_file_not_found": "Error: Archivo no encontrado.",
        "error_invalid_folder": "Error: Carpeta de destino no válida.",
        "error_generic": "Ocurrió un error: {error}",
    },

    "Deutsch": {
        # --- Benutzeroberfläche (GUI) ---
        "title": "Ultimate GUI YouTube Downloader",
        "subtitle": "Eine grafische Benutzeroberfläche für Pytubefix",
        "status_ready": "Status: Bereit",
        "enter_url": "Geben Sie die URL des YouTube-Videos ein",
        "fetching_res_bit": "Abrufen von Auflösungen und Bitraten",
        "download_button": "Herunterladen",
        "open_log": "Protokoll öffnen",
        "select_file": "Eine Textdatei auswählen",
        "select_resolution": "Eine Auflösung auswählen",
        "batch_download": "Batch-Download",
        "video_resolution": "Videoauflösung",
        "audio_bitrate": "Audio-Bitrate",
        "download": "Herunterladen",
        "selected_file": "Ausgewählte Datei",
        "select_folder": "Zielordner auswählen",
        "no_folder_selected": "Kein Ordner ausgewählt.",

        # --- Ausführungsnachrichten ---
        "fetching_resolutions": "Abrufen von Auflösungen und Bitraten...",
        "fetching_completed": "Abruf von Auflösungen und Bitraten abgeschlossen.",
        "downloading_video": "Video wird heruntergeladen...",
        "video_downloaded": "Video erfolgreich heruntergeladen: {title}.mp4",
        "video_downloaded_log": "Video heruntergeladen: {filename}.mp4",
        "downloading_audio": "Audio wird heruntergeladen...",
        "audio_downloaded": "Audio erfolgreich heruntergeladen: {title}.mp3",
        "audio_downloaded_log": "Audio heruntergeladen: {filename}.mp3",
        "downloading_video_audio": "{title} wird heruntergeladen...",
        "downloading_video_audio_log": "{title} wird heruntergeladen...",
        "download_video_audio_completed": "Audio- und Videodateien erfolgreich heruntergeladen.",
        "download_video_audio_completed_log": "Video und Audio für die Zusammenführung heruntergeladen: {title}",
        "merging": "Audio und Video werden zusammengeführt...",
        "merging_files": "Zusammenführung läuft",
        "merge_successful": "Zusammenführung erfolgreich",
        "temp_files_removed": "Temporäre Dateien nach der Zusammenführung entfernt: {filename}.",
        "temp_files_removed_log": "Temporäre Dateien zu {filename} wurden entfernt.",
        "download_completed": "Download abgeschlossen für {title}",
        "progress_batch_download": "Download {current}/{total} läuft...",
        "video_found": "Video '{title}' in {res} verfügbar.",
        "video_found_log": "Video gefunden: {title} in {res}.",
        "batch_download_summary": "Download von {success}/{total} Videos abgeschlossen.",

        # --- Fehlermeldungen ---
        "error": "FEHLER:",
        "error_invalid_url": "Fehler: Die angegebene URL ist keine gültige YouTube-URL ({url}).",
        "error_video_unavailable": "Fehler: Das Video zur URL '{url}' ist nicht verfügbar.",
        "error_no_video": "Fehler: Das Video '{title}' ist nicht in {res} verfügbar.",
        "error_no_audio": "Fehler: Kein Audio für '{title}' in {bitrate} verfügbar.",
        "error_no_video_available": "Keine Videoauflösung für '{title}' verfügbar.",
        "error_no_audio_available": "Keine Audio-Bitrate für '{title}' verfügbar.",
        "error_fetching_resolutions": "Fehler beim Abrufen der Auflösungen.",
        "error_merge": "Fehler beim Zusammenführen mit FFmpeg.",
        "error_merge_ffmpeg": "FFmpeg-Fehler: {error}",
        "FFmpeg_not_found": "FFmpeg ist nicht installiert oder nicht gefunden.",
        "error_file_not_found": "Fehler: Datei nicht gefunden.",
        "error_invalid_folder": "Fehler: Ungültiger Zielordner.",
        "error_generic": "Ein Fehler ist aufgetreten: {error}",
    },

    "Italiano": {
        # --- Interfaccia utente (GUI) ---
        "title": "Ultimate GUI YouTube Downloader",
        "subtitle": "Un'interfaccia grafica per Pytubefix",
        "status_ready": "Stato: Pronto",
        "enter_url": "Inserisci l'URL del video YouTube",
        "fetching_res_bit": "Recupero di risoluzioni e bitrate",
        "download_button": "Scarica",
        "open_log": "Apri registro",
        "select_file": "Seleziona un file di testo",
        "select_resolution": "Seleziona una risoluzione",
        "batch_download": "Download in batch",
        "video_resolution": "Risoluzione video",
        "audio_bitrate": "Bitrate audio",
        "download": "Scarica",
        "selected_file": "File selezionato",
        "select_folder": "Seleziona una cartella di destinazione",
        "no_folder_selected": "Nessuna cartella selezionata.",

        # --- Messaggi di esecuzione ---
        "fetching_resolutions": "Recupero di risoluzioni e bitrate in corso...",
        "fetching_completed": "Recupero di risoluzioni e bitrate completato.",
        "downloading_video": "Download del video in corso...",
        "video_downloaded": "Video scaricato con successo: {title}.mp4",
        "video_downloaded_log": "Video scaricato: {filename}.mp4",
        "downloading_audio": "Download dell'audio in corso...",
        "audio_downloaded": "Audio scaricato con successo: {title}.mp3",
        "audio_downloaded_log": "Audio scaricato: {filename}.mp3",
        "downloading_video_audio": "Download in corso di {title}...",
        "downloading_video_audio_log": "Download in corso di {title}...",
        "download_video_audio_completed": "File audio e video scaricati con successo.",
        "download_video_audio_completed_log": "Video e audio scaricati per la fusione: {title}",
        "merging": "Unione di audio e video in corso...",
        "merging_files": "Unione in corso",
        "merge_successful": "Unione completata con successo",
        "temp_files_removed": "File temporanei rimossi dopo la fusione: {filename}.",
        "temp_files_removed_log": "File temporanei associati a {filename} rimossi.",
        "download_completed": "Download completato per {title}",
        "progress_batch_download": "Download {current}/{total} in corso...",
        "video_found": "Video '{title}' disponibile in {res}.",
        "video_found_log": "Video trovato: {title} in {res}.",
        "batch_download_summary": "Download di {success}/{total} video completato.",

        # --- Messaggi di errore ---
        "error": "ERRORE:",
        "error_invalid_url": "Errore: L'URL fornito non è un URL YouTube valido ({url}).",
        "error_video_unavailable": "Errore: Il video associato all'URL '{url}' non è disponibile.",
        "error_no_video": "Errore: Il video '{title}' non è disponibile in {res}.",
        "error_no_audio": "Errore: Nessun audio disponibile per '{title}' a {bitrate}.",
        "error_no_video_available": "Nessuna risoluzione video disponibile per '{title}'.",
        "error_no_audio_available": "Nessun bitrate audio disponibile per '{title}'.",
        "error_fetching_resolutions": "Errore durante il recupero delle risoluzioni.",
        "error_merge": "Errore durante l'unione con FFmpeg.",
        "error_merge_ffmpeg": "Errore FFmpeg: {error}",
        "FFmpeg_not_found": "FFmpeg non è installato o non è stato trovato.",
        "error_file_not_found": "Errore: File non trovato.",
        "error_invalid_folder": "Errore: Cartella di destinazione non valida.",
        "error_generic": "Si è verificato un errore: {error}",
    },


}

# Variable globale contenant les traductions de la langue actuelle
texts = translations[current_language]